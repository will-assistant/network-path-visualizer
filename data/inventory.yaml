# Network Path Visualizer — 7-Tier MPLS Mock Inventory
#
# Tiers (south to north):
#   1. DCCE  — Data center customer edge
#   2. DCPE  — Data center provider edge
#   3. SPE   — Service PE (parent/child VRF gateway)
#   4. T2-FW — Tier-2 firewall (static routes)
#   5. AGG   — Aggregation backbone (MPLS core)
#   6. T1-FW — Tier-1 firewall (static routes)
#   7. IPE   — Internet PE (peering edge)
#
# Two sites: East (NYC/IAD) and West (LAX/SFO)

domains:
  dc-east:
    type: dc
    protocol: "isis+mpls"
  dc-west:
    type: dc
    protocol: "isis+mpls"
  service-edge-east:
    type: service_edge
    protocol: "isis+mpls"
  service-edge-west:
    type: service_edge
    protocol: "isis+mpls"
  agg-backbone:
    type: agg_backbone
    protocol: "isis+mpls"
  inet-edge:
    type: inet_edge
    protocol: "ebgp"

routers:

  # ═══════════════════════════════════════════
  # TIER 1 — DCCE (Data Center Customer Edge)
  # ═══════════════════════════════════════════

  dcce-east-01:
    mgmt_ip: "10.1.1.1"
    vendor: juniper
    role: dcce
    domain: dc-east
    site: east
    tier: 1
    interfaces:
      - name: ge-0/0/0
        ip: "10.100.1.1/30"
        neighbor: dcpe-east-01
        speed: "10G"

  dcce-west-01:
    mgmt_ip: "10.1.2.1"
    vendor: juniper
    role: dcce
    domain: dc-west
    site: west
    tier: 1
    interfaces:
      - name: ge-0/0/0
        ip: "10.100.2.1/30"
        neighbor: dcpe-west-01
        speed: "10G"

  # ═══════════════════════════════════════════
  # TIER 2 — DCPE (Data Center Provider Edge)
  # ═══════════════════════════════════════════

  dcpe-east-01:
    mgmt_ip: "10.2.1.1"
    vendor: juniper
    role: dcpe
    domain: dc-east
    site: east
    tier: 2
    interfaces:
      - name: ge-0/0/0
        ip: "10.100.1.2/30"
        neighbor: dcce-east-01
        speed: "10G"
      - name: ge-0/0/1
        ip: "10.100.3.1/30"
        neighbor: spe-east-01
        speed: "10G"

  dcpe-west-01:
    mgmt_ip: "10.2.2.1"
    vendor: juniper
    role: dcpe
    domain: dc-west
    site: west
    tier: 2
    interfaces:
      - name: ge-0/0/0
        ip: "10.100.2.2/30"
        neighbor: dcce-west-01
        speed: "10G"
      - name: ge-0/0/1
        ip: "10.100.4.1/30"
        neighbor: spe-west-01
        speed: "10G"

  # ═══════════════════════════════════════════
  # TIER 3 — SPE (Service PE / VRF Gateway)
  # ═══════════════════════════════════════════

  spe-east-01:
    mgmt_ip: "10.3.1.1"
    vendor: juniper
    role: spe
    domain: service-edge-east
    site: east
    tier: 3
    vrfs:
      - name: "CUST-A"
        vrf_type: child
        parent_vrf: "GATEWAY"
        rd: "65000:100"
        rt_import: ["65000:100"]
        rt_export: ["65000:100"]
      - name: "GATEWAY"
        vrf_type: parent
        rd: "65000:1"
        rt_import: ["65000:1"]
        rt_export: ["65000:1"]
    interfaces:
      - name: ge-0/0/0
        ip: "10.100.3.2/30"
        neighbor: dcpe-east-01
        speed: "10G"
        vrf: "CUST-A"
      - name: ge-0/0/1
        ip: "10.100.5.1/30"
        neighbor: t2fw-east-01
        speed: "10G"
        vrf: "GATEWAY"

  spe-west-01:
    mgmt_ip: "10.3.2.1"
    vendor: juniper
    role: spe
    domain: service-edge-west
    site: west
    tier: 3
    vrfs:
      - name: "CUST-A"
        vrf_type: child
        parent_vrf: "GATEWAY"
        rd: "65000:100"
        rt_import: ["65000:100"]
        rt_export: ["65000:100"]
      - name: "GATEWAY"
        vrf_type: parent
        rd: "65000:1"
        rt_import: ["65000:1"]
        rt_export: ["65000:1"]
    interfaces:
      - name: ge-0/0/0
        ip: "10.100.4.2/30"
        neighbor: dcpe-west-01
        speed: "10G"
        vrf: "CUST-A"
      - name: ge-0/0/1
        ip: "10.100.6.1/30"
        neighbor: t2fw-west-01
        speed: "10G"
        vrf: "GATEWAY"

  # ═══════════════════════════════════════════
  # TIER 4 — T2 Firewall (static routes only)
  # ═══════════════════════════════════════════

  t2fw-east-01:
    mgmt_ip: "10.4.1.1"
    vendor: juniper
    role: t2_fw
    domain: agg-backbone
    site: east
    tier: 4
    interfaces:
      - name: ge-0/0/0
        ip: "10.100.5.2/30"
        neighbor: spe-east-01
        speed: "10G"
      - name: ge-0/0/1
        ip: "10.100.7.1/30"
        neighbor: agg-east-01
        speed: "40G"

  t2fw-west-01:
    mgmt_ip: "10.4.2.1"
    vendor: juniper
    role: t2_fw
    domain: agg-backbone
    site: west
    tier: 4
    interfaces:
      - name: ge-0/0/0
        ip: "10.100.6.2/30"
        neighbor: spe-west-01
        speed: "10G"
      - name: ge-0/0/1
        ip: "10.100.8.1/30"
        neighbor: agg-west-01
        speed: "40G"

  # ═══════════════════════════════════════════
  # TIER 5 — AGG (Aggregation / MPLS Backbone)
  # ═══════════════════════════════════════════

  agg-east-01:
    mgmt_ip: "10.5.1.1"
    vendor: juniper
    role: agg
    domain: agg-backbone
    site: east
    tier: 5
    interfaces:
      - name: et-0/0/0
        ip: "10.100.7.2/30"
        neighbor: t2fw-east-01
        speed: "40G"
      - name: et-0/0/1
        ip: "10.100.9.1/30"
        neighbor: agg-west-01
        speed: "100G"
      - name: et-0/0/2
        ip: "10.100.11.1/30"
        neighbor: t1fw-east-01
        speed: "40G"
      - name: lo0
        ip: "10.200.1.1/32"
        speed: ""

  agg-west-01:
    mgmt_ip: "10.5.2.1"
    vendor: juniper
    role: agg
    domain: agg-backbone
    site: west
    tier: 5
    interfaces:
      - name: et-0/0/0
        ip: "10.100.8.2/30"
        neighbor: t2fw-west-01
        speed: "40G"
      - name: et-0/0/1
        ip: "10.100.9.2/30"
        neighbor: agg-east-01
        speed: "100G"
      - name: et-0/0/2
        ip: "10.100.12.1/30"
        neighbor: t1fw-west-01
        speed: "40G"
      - name: lo0
        ip: "10.200.2.1/32"
        speed: ""

  # ═══════════════════════════════════════════
  # TIER 5.5 — Route Reflectors (3 tiers)
  # ═══════════════════════════════════════════

  rr-core-01:
    mgmt_ip: "10.5.10.1"
    vendor: juniper
    role: rr
    domain: agg-backbone
    site: east
    tier: 5
    rr_tier: core
    interfaces:
      - name: lo0
        ip: "10.200.10.1/32"
        speed: ""
      - name: ge-0/0/0
        ip: "10.100.20.1/30"
        neighbor: agg-east-01
        speed: "10G"

  rr-agg-01:
    mgmt_ip: "10.5.10.2"
    vendor: juniper
    role: rr
    domain: agg-backbone
    site: east
    tier: 5
    rr_tier: agg
    interfaces:
      - name: lo0
        ip: "10.200.10.2/32"
        speed: ""
      - name: ge-0/0/0
        ip: "10.100.20.5/30"
        neighbor: agg-east-01
        speed: "10G"

  rr-inet-01:
    mgmt_ip: "10.5.10.3"
    vendor: juniper
    role: rr
    domain: agg-backbone
    site: east
    tier: 5
    rr_tier: inet
    interfaces:
      - name: lo0
        ip: "10.200.10.3/32"
        speed: ""
      - name: ge-0/0/0
        ip: "10.100.20.9/30"
        neighbor: agg-east-01
        speed: "10G"

  # ═══════════════════════════════════════════
  # TIER 6 — T1 Firewall (static routes only)
  # ═══════════════════════════════════════════

  t1fw-east-01:
    mgmt_ip: "10.6.1.1"
    vendor: juniper
    role: t1_fw
    domain: agg-backbone
    site: east
    tier: 6
    interfaces:
      - name: ge-0/0/0
        ip: "10.100.11.2/30"
        neighbor: agg-east-01
        speed: "40G"
      - name: ge-0/0/1
        ip: "10.100.13.1/30"
        neighbor: ipe-east-01
        speed: "40G"

  t1fw-west-01:
    mgmt_ip: "10.6.2.1"
    vendor: juniper
    role: t1_fw
    domain: agg-backbone
    site: west
    tier: 6
    interfaces:
      - name: ge-0/0/0
        ip: "10.100.12.2/30"
        neighbor: agg-west-01
        speed: "40G"
      - name: ge-0/0/1
        ip: "10.100.14.1/30"
        neighbor: ipe-west-01
        speed: "40G"

  # ═══════════════════════════════════════════
  # TIER 7 — IPE (Internet PE / Peering Edge)
  # ═══════════════════════════════════════════

  ipe-east-01:
    mgmt_ip: "10.7.1.1"
    vendor: juniper
    role: ipe
    domain: inet-edge
    site: east
    tier: 7
    interfaces:
      - name: ge-0/0/0
        ip: "10.100.13.2/30"
        neighbor: t1fw-east-01
        speed: "40G"
      - name: ge-0/0/1
        ip: "198.51.100.1/30"
        description: "eBGP to upstream (AS7018)"
        speed: "10G"

  ipe-west-01:
    mgmt_ip: "10.7.2.1"
    vendor: juniper
    role: ipe
    domain: inet-edge
    site: west
    tier: 7
    interfaces:
      - name: ge-0/0/0
        ip: "10.100.14.2/30"
        neighbor: t1fw-west-01
        speed: "40G"
      - name: ge-0/0/1
        ip: "203.0.113.1/30"
        description: "eBGP to upstream (AS3356)"
        speed: "10G"

boundaries:
  - firewall: t2fw-east-01
    upstream_domain: service-edge-east
    downstream_domain: agg-backbone
    tier: "t2"
  - firewall: t2fw-west-01
    upstream_domain: service-edge-west
    downstream_domain: agg-backbone
    tier: "t2"
  - firewall: t1fw-east-01
    upstream_domain: agg-backbone
    downstream_domain: inet-edge
    tier: "t1"
  - firewall: t1fw-west-01
    upstream_domain: agg-backbone
    downstream_domain: inet-edge
    tier: "t1"
